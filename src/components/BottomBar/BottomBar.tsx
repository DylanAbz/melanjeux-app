import React from 'react';
import './BottomBar.css';
import { NavLink } from 'react-router-dom';


// Helper component to render the correct icon as an inline SVG
const TabIcon = ({ name }: { name: string }) => {
  const commonProps = {
    viewBox: "0 0 32 32",
    fill: "none",
    xmlns: "http://www.w3.org/2000/svg",
  };

  switch (name) {
    case 'Chercher':
      return (
        <svg {...commonProps}>
          <path d="M14.6667 25.3333C20.5577 25.3333 25.3333 20.5577 25.3333 14.6667C25.3333 8.77563 20.5577 4 14.6667 4C8.77563 4 4 8.77563 4 14.6667C4 20.5577 8.77563 25.3333 14.6667 25.3333Z" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
          <path d="M28.0002 28L22.2002 22.2" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
        </svg>
      );
    case 'Réservations':
      return (
        <svg {...commonProps}>
            <path d="M20 0.5C20.1326 0.5 20.2597 0.552717 20.3535 0.646484C20.4473 0.740252 20.5 0.867391 20.5 1V3.5H22C22.9283 3.5 23.8182 3.86901 24.4746 4.52539C25.131 5.18177 25.5 6.07174 25.5 7V22C25.5 22.9283 25.131 23.8182 24.4746 24.4746C23.8182 25.131 22.9283 25.5 22 25.5H4C3.07174 25.5 2.18177 25.131 1.52539 24.4746C0.869014 23.8182 0.5 22.9283 0.5 22V7C0.5 6.07174 0.869013 5.18177 1.52539 4.52539C2.18177 3.86901 3.07174 3.5 4 3.5H5.5V1C5.5 0.867392 5.55272 0.740252 5.64648 0.646484C5.74025 0.552716 5.86739 0.5 6 0.5C6.13261 0.5 6.25975 0.552717 6.35352 0.646484C6.44728 0.740252 6.5 0.867392 6.5 1V3.5H19.5V1C19.5 0.867391 19.5527 0.740252 19.6465 0.646484C19.7403 0.552717 19.8674 0.5 20 0.5ZM4 9.5C3.33696 9.5 2.70126 9.76358 2.23242 10.2324C1.76358 10.7013 1.5 11.337 1.5 12V22C1.5 22.663 1.76358 23.2987 2.23242 23.7676C2.70126 24.2364 3.33696 24.5 4 24.5H22C22.663 24.5 23.2987 24.2364 23.7676 23.7676C24.2364 23.2987 24.5 22.663 24.5 22V12C24.5 11.337 24.2364 10.7013 23.7676 10.2324C23.2987 9.76358 22.663 9.5 22 9.5H4Z" fill="currentColor" stroke="currentColor"/>
        </svg>
      );
    case 'Messages':
      return (
          <svg {...commonProps}>
              <path d="M14 0.5C17.2155 0.5 20.3743 0.735959 23.4639 1.18848V1.1875C25.8374 1.5383 27.4998 3.6214 27.5 5.98633V14.0137C27.4998 16.3786 25.8373 18.4607 23.4639 18.8115C21.9374 19.0352 20.4029 19.2043 18.8643 19.3184C18.711 19.3291 18.5621 19.3748 18.4287 19.4512C18.2942 19.5282 18.1789 19.6346 18.0918 19.7627L18.0889 19.7666L14.416 25.2773C14.3705 25.3457 14.3087 25.4016 14.2363 25.4404C14.1638 25.4793 14.0823 25.5 14 25.5C13.9177 25.5 13.8362 25.4793 13.7637 25.4404C13.6913 25.4016 13.6295 25.3457 13.584 25.2773L9.91113 19.7666L9.9082 19.7627C9.8211 19.6346 9.70575 19.5282 9.57129 19.4512C9.43763 19.3747 9.28837 19.329 9.13477 19.3184H9.13574C7.5973 19.2039 6.06344 19.0347 4.53711 18.8105H4.53613C2.16306 18.4624 0.5 16.3773 0.5 14.0117V5.98828C0.5 3.62266 2.16306 1.53758 4.53613 1.18945C7.27788 0.787013 10.0426 0.560482 12.8125 0.510742L14 0.5ZM8 10.5C7.60218 10.5 7.22076 10.6581 6.93945 10.9395C6.65815 11.2208 6.5 11.6022 6.5 12C6.5 12.3978 6.65815 12.7792 6.93945 13.0605C7.22076 13.3419 7.60218 13.5 8 13.5H14C14.3978 13.5 14.7792 13.3419 15.0605 13.0605C15.3419 12.7792 15.5 12.3978 15.5 12C15.5 11.6022 15.3418 11.2208 15.0605 10.9395C14.7792 10.6581 14.3978 10.5 14 10.5H8ZM8 6.5C7.60218 6.5 7.22076 6.65815 6.93945 6.93945C6.65815 7.22076 6.5 7.60218 6.5 8C6.5 8.39782 6.65815 8.77924 6.93945 9.06055C7.22076 9.34185 7.60217 9.5 8 9.5H20C20.3978 9.5 20.7792 9.34185 21.0605 9.06055C21.3419 8.77924 21.5 8.39782 21.5 8C21.5 7.60218 21.3419 7.22076 21.0605 6.93945C20.7792 6.65815 20.3978 6.5 20 6.5H8Z" fill="currentColor" stroke="currentColor"/>
          </svg>
      );
    case 'Mon compte':
      return (
        <svg {...commonProps}>
            <path d="M16.001 16.4775C18.7574 16.4776 21.403 17.5623 23.3672 19.4961C25.3314 21.43 26.4561 24.0584 26.499 26.8145L26.5 26.8154C26.5017 26.9126 26.4746 27.0085 26.4229 27.0908C26.3711 27.173 26.2963 27.2388 26.208 27.2793C23.006 28.7474 19.5235 29.5048 16.001 29.5C12.3597 29.5 8.9008 28.7058 5.79297 27.2793C5.70481 27.2388 5.6308 27.1729 5.5791 27.0908C5.52736 27.0085 5.50022 26.9126 5.50195 26.8154V26.8145C5.54487 24.0585 6.6698 21.4299 8.63379 19.4961C10.598 17.5622 13.2445 16.4775 16.001 16.4775ZM16.001 2.5C17.4596 2.50005 18.8582 3.07992 19.8896 4.11133C20.921 5.14277 21.501 6.54136 21.501 8C21.501 9.45864 20.921 10.8572 19.8896 11.8887C18.8582 12.9201 17.4596 13.4999 16.001 13.5C14.5423 13.5 13.1428 12.9201 12.1113 11.8887C11.0801 10.8573 10.501 9.45851 10.501 8C10.501 6.54149 11.0801 5.14274 12.1113 4.11133C13.1428 3.07988 14.5423 2.5 16.001 2.5Z" fill="currentColor" stroke="currentColor"/>
        </svg>
      );
    default:
      return null;
  }
};

const BottomBar: React.FC = () => {
  const tabs = [
    { name: 'Chercher', path: '/' },
    { name: 'Réservations', path: '/bookings' },
    { name: 'Messages', path: '/messages' },
    { name: 'Mon compte', path: '/profile' },
  ];

  return (
    <nav className="bottom-bar">
      {tabs.map((tab) => (
        <NavLink
          key={tab.name}
          to={tab.path}
          className={({ isActive }) => `bottom-bar-item ${isActive ? 'active' : ''}`}
        >
          <TabIcon name={tab.name} />
          <span>{tab.name}</span>
        </NavLink>
      ))}
    </nav>
  );
};

export default BottomBar;
